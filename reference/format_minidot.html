<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Format miniDOT concatenate (cat) output — format_minidot • ContDataQC</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Format miniDOT concatenate (cat) output — format_minidot"><meta property="og:description" content="Format miniDOT concatenate (cat) output for use with
`ContDataQC` package.   Works on single files.  Imports, modifies, and saves
the new file."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ContDataQC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.7.9006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Vignette_Config.html">ContDataQC, Custom Config Files</a>
    </li>
    <li>
      <a href="../articles/Vignette_ContDataQC.html">ContDataQC Vignette</a>
    </li>
    <li>
      <a href="../articles/Vignette_Lakes.html">ContDataQC Lake ID String Vignette</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/leppott/ContDataQC/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Format miniDOT concatenate (cat) output</h1>
    <small class="dont-index">Source: <a href="https://github.com/leppott/ContDataQC/blob/HEAD/R/formatminiDOT.R" class="external-link"><code>R/formatminiDOT.R</code></a></small>
    <div class="hidden name"><code>format_minidot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Format miniDOT concatenate (cat) output for use with
`ContDataQC` package.   Works on single files.  Imports, modifies, and saves
the new file.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">format_minidot</span><span class="op">(</span></span>
<span>  fun.myFile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fun.myDir.import <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  fun.myDir.export <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  fun.myConfig <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>fun.myFile</dt>
<dd><p>Single file (or vector of files) to perform functions.</p></dd>


<dt>fun.myDir.import</dt>
<dd><p>Directory for import data.
Default is current working directory.</p></dd>


<dt>fun.myDir.export</dt>
<dd><p>Directory for export data.
Default is current working directory.</p></dd>


<dt>fun.myConfig</dt>
<dd><p>Configuration file to use for this data analysis.
The default is always loaded first so only "new" values need to be included.
This is the easiest way to control time zones.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>No data frames are returned.  A CSV file ready for use with the
ContDataQC QC function will be generated in the specified output directory.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>1. Imports a miniDOT cat output file from a folder.
Can also use ContDataQC::minidot_cat function.</p>
<p>2. Reformats it using defaults from the ContDataQC config file</p>
<p>3. Exports a CSV to the provided folder for use with ContDataQC</p>
<p>Below are the default data directories assumed to exist in the working
directory.  These can be created with code in the example.  Using this
function as an example, files will be imported from Data0_Original and
exported to Data1_RAW.</p>
<p>* ./Data0_Original/ = Unmodified data logger files.</p>
<p>* ./Data1_RAW/ = Data logger files modified for use with library.
Modifications for extra rows and file and column names.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create Folders</span></span></span>
<span class="r-in"><span><span class="va">myDir.BASE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">myDir.create</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">myDir.BASE</span>, <span class="st">"Data0_Original"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="va">myDir.create</span><span class="op">)</span> <span class="op">==</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>         , <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">myDir.create</span><span class="op">)</span></span></span>
<span class="r-in"><span>         , <span class="st">"Directory already exists"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Directory already exists"</span>
<span class="r-in"><span><span class="va">myDir.create</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">myDir.BASE</span>, <span class="st">"Data1_RAW"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="va">myDir.create</span><span class="op">)</span> <span class="op">==</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>         , <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">myDir.create</span><span class="op">)</span></span></span>
<span class="r-in"><span>         , <span class="st">"Directory already exists"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Directory already exists"</span>
<span class="r-in"><span><span class="va">myDir.create</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">myDir.BASE</span>, <span class="st">"Data2_QC"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="va">myDir.create</span><span class="op">)</span> <span class="op">==</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>         , <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">myDir.create</span><span class="op">)</span></span></span>
<span class="r-in"><span>         , <span class="st">"Directory already exists"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Directory already exists"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Data</span></span></span>
<span class="r-in"><span><span class="va">dn_input</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"ContDataQC"</span><span class="op">)</span></span></span>
<span class="r-in"><span>                      , <span class="st">"minidot"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dn_export</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">myDir.BASE</span>, <span class="st">"Data0_Original"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">filename</span> <span class="op">&lt;-</span> <span class="st">"test_minidot.csv"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create miniDOT concatenate file</span></span></span>
<span class="r-in"><span><span class="fu"><a href="minidot_cat.html">minidot_cat</a></span><span class="op">(</span>folderpath <span class="op">=</span> <span class="va">dn_input</span></span></span>
<span class="r-in"><span>            , savetofolder <span class="op">=</span> <span class="va">dn_export</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></span>
<span class="r-in"><span><span class="co"># FORMAT</span></span></span>
<span class="r-in"><span><span class="va">myFiles</span> <span class="op">&lt;-</span> <span class="st">"7392-354869.csv"</span></span></span>
<span class="r-in"><span><span class="va">myDir.BASE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">myDir.import</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">myDir.BASE</span>, <span class="st">"Data0_Original"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">myDir.export</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">myDir.BASE</span>, <span class="st">"Data1_RAW"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run Function (with default config)</span></span></span>
<span class="r-in"><span><span class="fu">format_minidot</span><span class="op">(</span><span class="va">myFiles</span>, <span class="va">myDir.import</span>, <span class="va">myDir.export</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Working on item (1/1); 7392-354869.csv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Task complete.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></span>
<span class="r-in"><span><span class="co"># QC newly created file</span></span></span>
<span class="r-in"><span><span class="va">myData.Operation</span> <span class="op">&lt;-</span> <span class="st">"QCRaw"</span></span></span>
<span class="r-in"><span><span class="va">myFile</span> <span class="op">&lt;-</span> <span class="st">"7392-354869.csv"</span></span></span>
<span class="r-in"><span><span class="va">myDir.BASE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">myDir.import</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">myDir.BASE</span>, <span class="st">"Data1_RAW"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">myDir.export</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">myDir.BASE</span>, <span class="st">"Data2_QC"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">myReport.format</span> <span class="op">&lt;-</span> <span class="st">"docx"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ContDataQC.html">ContDataQC</a></span><span class="op">(</span><span class="va">myData.Operation</span></span></span>
<span class="r-in"><span>           , fun.myDir.import <span class="op">=</span> <span class="va">myDir.import</span></span></span>
<span class="r-in"><span>           , fun.myDir.export <span class="op">=</span> <span class="va">myDir.export</span></span></span>
<span class="r-in"><span>           , fun.myFile <span class="op">=</span> <span class="va">myFile</span></span></span>
<span class="r-in"><span>           , fun.myReport.format <span class="op">=</span> <span class="va">myReport.format</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Total files to process = 1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Processing item 1 of 1, WORKING (QC Tests and Flags - WaterTemp), 7392-354869.csv."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Processing item 1 of 1, WORKING (QC Tests and Flags - DO, mg/L), 7392-354869.csv."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Processing item 1 of 1, WORKING (QC Tests and Flags - DO, pct sat), 7392-354869.csv."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Task COMPLETE. QC Report.  Total time = 2.435526 secs."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "User defined parameters: File Name (7392-354869.csv)."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Processing item 1 of 1, COMPLETE, 7392-354869.csv."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Task COMPLETE; 0.04 min."</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Erik W Leppo.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

